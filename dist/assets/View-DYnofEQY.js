import{b as I,r as t,j as e}from"./index-COlOKGVa.js";import{d as D}from"./Product2-CFKujFxf.js";import{f as E}from"./ProductService-BTIW0j6s.js";import{g as k,a as A}from"./VarietyFormService-BveRte0p.js";import{g as O}from"./AddCategoryService-DgzNEtll.js";import{A as T}from"./AddCategory-B_5R9Pc7.js";import{T as U}from"./Topbar-C2H_McEf.js";const J=()=>{var p,u,h,f;const{productId:n}=I(),[a,y]=t.useState(null),[$,v]=t.useState([]),[B,b]=t.useState([]),[w,o]=t.useState(null),[C,P]=t.useState(!0),[m,S]=t.useState("");return t.useEffect(()=>{(async()=>{var c,x;try{const r=await E(n);if(!r)throw new Error("Product not found");console.log("Product jx:",r);const[N,j]=await Promise.all([k(),A()]),g=await O(r.categoryId);if(!g)throw new Error("Category not found");const F=(c=r.varietys)==null?void 0:c.map(l=>{var i;return((i=N.find(d=>d.id===l))==null?void 0:i.name)||"Unknown Variety"}),V=(x=r.forms)==null?void 0:x.map(l=>{var i;return((i=j.find(d=>d.id===l))==null?void 0:i.name)||"Unknown Form"});o(r.categoryId||0),y({...r,varietyNames:F,formNames:V}),v(N),b(j),o(g)}catch(r){S(r.message||"Error fetching product details.")}finally{P(!1)}})()},[n]),C?e.jsx("p",{children:"Loading product details..."}):m?e.jsx("p",{className:"text-danger",children:m}):e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx(U,{title:"View Product",userName:"Neha Sharma",showSearchBar:!1}),e.jsx("div",{className:"container-fluid mt-4",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("div",{className:"product-image-upload",children:e.jsx("img",{src:a.productImageUrl||D,alt:a.productName,className:"uploaded-image",style:{width:"450px",height:"300px",objectFit:"cover"}})}),e.jsxs("div",{className:"card p-4 mb-4 mt-4",children:[e.jsx("h5",{className:"text-center mb-4 heading-with-bar",children:"Product Specifications"}),e.jsxs("div",{className:"card-body ",children:[e.jsx("label",{htmlFor:"productDescription",className:"form-group label",children:"Product Description"}),e.jsx("textarea",{id:"productDescription",className:"form-control",rows:"4",value:a.productDescription||"N/A",readOnly:!0,style:{height:"100px"}}),e.jsxs("div",{children:[e.jsxs("div",{className:"form-group mb-4",children:[e.jsx("label",{className:"form-group label mt-2",style:{display:"block",paddingTop:"2px"},children:"Product Variety"}),e.jsx("ul",{children:(p=a.varietys)!=null&&p.length?a.varietys.map(s=>e.jsx("div",{children:s.varietyName},s.varietyId)):e.jsx("p",{children:"No varieties available."})})]}),e.jsxs("div",{className:"form-group ",children:[e.jsx("label",{className:"form-group label mt-2",style:{display:"block",paddingTop:"2px"},children:"Product Form"}),e.jsx("ul",{children:(u=a.forms)!=null&&u.length?a.forms.map(s=>e.jsx("div",{children:s.formName},s.formId)):e.jsx("p",{children:"No forms available."})})]}),e.jsx(T,{selectedCategory:w,setSelectedCategory:o})]}),e.jsx("h5",{className:"my-4",children:"Certifications"}),e.jsx("div",{className:"certifications-section",children:e.jsx("ul",{className:"certifications-list",children:((h=a.certifications)==null?void 0:h.map(s=>e.jsxs("li",{className:`certification-item ${s.isCertified?"certified":"not-certified"}`,children:[e.jsx("input",{type:"checkbox",checked:s.isCertified,readOnly:!0}),e.jsx("span",{children:s.certificationName})]},s.certificationName)))||e.jsx("p",{children:"No certifications available."})})})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"card p-4 mb-4 mt-4",children:[e.jsx("h5",{className:"text",children:"General Information"}),e.jsxs("div",{className:"card-body mb-4",children:[e.jsxs("div",{className:"form-group row mb-4",children:[e.jsx("label",{htmlFor:"hsnCode",className:"col-12 col-form-label",children:"HSN Code"}),e.jsx("input",{type:"text",id:"hsnCode",className:"form-control",value:a.hsnCode||"N/A",readOnly:!0})]}),e.jsxs("div",{className:"form-group row mb-4",children:[e.jsx("label",{htmlFor:"productName",className:"col-12 col-form-label",children:"Product Name"}),e.jsx("input",{type:"text",id:"productName",className:"form-control",value:a.productName||"N/A",readOnly:!0})]})]})]}),e.jsxs("div",{className:"card p-4 mb-4",children:[e.jsx("h5",{className:"text-center mb-4 heading-with-bar",children:"Specifications"}),((f=a.specifications)==null?void 0:f.length)>0?a.specifications.map((s,c)=>e.jsxs("div",{className:"form-group row mb-3",children:[e.jsx("label",{className:"col-4 col-form-label",children:s.specificationName}),e.jsx("div",{className:"col-8",children:e.jsx("input",{type:"text",className:"form-control",value:`${s.specificationValue||"N/A"} ${s.specificationValueUnits||""}`,readOnly:!0})})]},c)):e.jsx("p",{children:"No specifications available."})]})]})]})})]})};export{J as default};
