import{e as u,c as h,r as i,j as s}from"./index-COlOKGVa.js";const p="http://lyncorganikness.ap-south-1.elasticbeanstalk.com/auth/admin",m={getProductDetails:async(e,t,r)=>{const o=localStorage.getItem("authToken");if(!o)throw new Error("No token found. Please log in.");try{return(await u.get(`${p}/sellerSellingProduct/${e}/${t}/${r}`,{headers:{Authorization:`Bearer ${o}`}})).data}catch(n){g(n,"Error fetching product details")}}},g=(e,t)=>{throw e.response?(console.error(`${t}:`,e.response.data),new Error(`Error: ${e.response.status} - ${e.response.data.message}`)):e.request?(console.error("No response received:",e.request),new Error("Network error, please check your connection.")):(console.error("Error:",e.message),new Error(e.message))},x="http://lyncorganikness.ap-south-1.elasticbeanstalk.com",w={getSellerDetails:async(e,t,r)=>{if(!e||!t||!r)throw new Error("Missing required parameters for getSellerDetails");const o=localStorage.getItem("authToken");return(await axios.get(`${x}/auth/admin/sellerSellingProduct/${e}/${t}/${r}`,{headers:{Authorization:`Bearer ${o}`}})).data}},S=()=>{const e=h(),{inquiryDetails:t}=e.state,[r,o]=i.useState(null),[n,l]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const c=await m.getProductDetails(t.productId,t.productFormId,t.productVarietyId);o(c);const d=await w.getSellerDetails(t.inquiryId);l(d)}catch(c){console.error("Error fetching details:",c.message)}})()},[t]),s.jsxs("div",{className:"container mt-4",children:[s.jsx("h3",{children:"Product Details"}),r?s.jsxs("div",{className:"card p-3 shadow-sm mb-4",children:[s.jsxs("h5",{children:[r.productName," - ",r.productVarietyName]}),s.jsx("p",{children:r.description}),s.jsx("img",{src:r.productImageUrl1,alt:"Product",className:"img-fluid"})]}):s.jsx("p",{children:"Loading product details..."}),s.jsx("h3",{children:"Available Sellers"}),n.length>0?n.map(a=>s.jsxs("div",{className:"card p-3 shadow-sm mb-3",children:[s.jsxs("h5",{children:[a.sellerId," - ",a.productFormName]}),s.jsxs("p",{children:["Price Range: ",a.minPrice," - ",a.maxPrice]}),s.jsxs("p",{children:["Available Amount: ",a.availableAmount," ",a.unit]}),s.jsx("button",{className:"btn btn-primary",children:"Send Proposal"})]},a.sellerId)):s.jsx("p",{children:"Loading seller details..."})]})};export{S as default};
