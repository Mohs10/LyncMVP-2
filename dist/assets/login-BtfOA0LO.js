import{r,u as v,j as e,l as f,F as j,f as w,a as N,A as S}from"./index-COlOKGVa.js";const y=()=>{const[t,u]=r.useState(""),[n,g]=r.useState(""),[d,a]=r.useState(""),[l,c]=r.useState(!1),[i,m]=r.useState(!1),p=v(),x=s=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(String(s).toLowerCase()),h=async s=>{if(s.preventDefault(),a(""),console.log("log1: Form submitted"),t===""||n===""){a("Please fill in all fields"),console.log("log2: Fields are empty");return}if(!x(t)){a("Please enter a valid email address"),console.log("log3: Invalid email format");return}try{c(!0);const o=await S.login(t,n);p("/dashboard"),console.log("log4: Navigation to dashboard")}catch(o){console.error("log5: Login error",o),o.response&&o.response.data?a("Invalid username or password"):a("Invalid username or password.")}finally{c(!1)}};return e.jsx("div",{className:"containers",children:e.jsxs("div",{className:"wrapper",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:f,alt:"Logo"})}),e.jsx("div",{className:"title"}),e.jsxs("form",{onSubmit:h,children:[e.jsx("div",{className:"heading",children:"User Login"}),d&&e.jsx("p",{className:"error",children:d}),e.jsxs("div",{className:"row",children:[e.jsx("i",{className:"fas fa-user"}),e.jsx("input",{type:"text",placeholder:"EMAIL",value:t,onChange:s=>u(s.target.value),required:!0,disabled:l})]}),e.jsxs("div",{className:"row password-row",children:[e.jsx("i",{className:"fas fa-lock"}),e.jsx("input",{type:i?"text":"password",placeholder:"PASSWORD",value:n,onChange:s=>g(s.target.value),required:!0,disabled:l}),e.jsx("span",{className:"toggle-password",onClick:()=>m(!i),children:e.jsx(j,{icon:i?w:N})})]}),e.jsx("div",{className:"row button",children:e.jsx("input",{type:"submit",value:l?"Logging in...":"Login",disabled:l})})]})]})})};export{y as default};
